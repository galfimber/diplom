(()=>{"use strict";const e=({formId:e,someElem:t=[]})=>{const r=document.getElementById(e),o=document.createElement("div");try{if(!r)throw new Error("Верните форму на место!");r.addEventListener("submit",(e=>{if(e.preventDefault(),!(()=>{const e=r.querySelectorAll("input"),l=new FormData(r),n={};o.textContent="Загрузка...",r.append(o);try{l.forEach(((e,t)=>{if("fio"===t&&e.length<2)throw o.textContent="Не менее 2 символов в имени",o.style.color="red",new Error("Не менее 2 символов");if("phone"===t&&e.length<16)throw o.textContent="Не менее 16 символов в номере телефона",o.style.color="red",new Error("Не менее 16 символов");n[t]=e}))}catch(e){return!1}var s;return t.forEach((e=>{const t=document.getElementById(e.id);t&&(n[e.id]=t.value)})),(s=n,fetch("https://jsonplaceholder.typicode.com/posts",{method:"POST",body:JSON.stringify(s),headers:{"Content-Type":"application/json"}}).then((e=>e.json()))).then((async t=>{o.textContent="Спасибо! Наш менеджер с вами свяжется",o.style.color="green",e.forEach((e=>{e.value=""})),await new Promise(((e,t)=>setTimeout(e,3e3))),o.textContent=""})).catch((e=>{o.textContent="Ошибка...",o.style.color="red"})),!0})())throw new Error("Недостаточно символов в имени или номере телефона")}))}catch(e){console.log(e.message)}};(()=>{const e=document.querySelectorAll(".btn-callback"),t=document.querySelector(".overlay"),r=document.querySelector(".header-modal"),o=document.querySelector(".header-modal__close"),l=document.querySelectorAll(".btn-call-master"),n=document.querySelector(".services-modal"),s=document.querySelector(".services-modal__close");document.addEventListener("click",(c=>{e.forEach((e=>{c.target===e&&(c.preventDefault,t.style.display="block",r.style.display="block")})),(c.target===o||c.target.classList.contains("overlay"))&&(t.style.display="none",r.style.display="none"),l.forEach((e=>{c.target===e&&(c.preventDefault,t.style.display="block",n.style.display="block")})),(c.target===s||c.target.classList.contains("overlay"))&&(t.style.display="none",n.style.display="none")}))})(),(()=>{const e=document.querySelector(".benefits-wrap"),t=document.querySelectorAll(".benefits__item"),r=document.querySelectorAll(".benefits__arrow"),o=document.querySelector(".service-wrap"),l=document.querySelectorAll(".service-block"),n=document.querySelectorAll(".services__arrow");let s,c,a=1,i=0;const d=(e,t)=>{s=e-1,c=e+1,s<0&&(s=t-1),c>=t&&(c=0)},m=(e,r,o)=>{e===t?(d(r,t.length),document.documentElement.clientWidth>=576?(e[s].classList.add(o),e[s].classList.remove("hide"),e[s].style.order="-2",e[r].classList.remove("hide"),e[r].style.order="-1",e[c].classList.remove("hide")):(e[r].classList.add(o),e[r].classList.remove("hide"))):e===l&&(d(r,l.length),document.documentElement.clientWidth>=576?(e[r].parentElement.classList.add(o),e[r].parentElement.classList.remove("hide"),e[r].parentElement.style.order="-1",e[c].parentElement.classList.remove("hide"),e[c].parentElement.style.order="0"):(e[r].parentElement.classList.add(o),e[r].parentElement.classList.remove("hide")))},u=(e,r,o)=>{e===t?(d(r,t.length),document.documentElement.clientWidth>=576?(e[s].classList.remove("hide"),e[s].style.order="-2",e[r].classList.remove("hide"),e[r].style.order="-1",e[c].classList.add(o),e[c].classList.remove("hide")):(e[r].classList.add(o),e[r].classList.remove("hide"))):e===l&&(d(r,l.length),document.documentElement.clientWidth>=576?(e[r].parentElement.classList.remove("hide"),e[r].parentElement.style.order="-1",e[c].parentElement.classList.add(o),e[c].parentElement.classList.remove("hide"),e[c].parentElement.style.order="0"):(e[r].parentElement.classList.add(o),e[r].parentElement.classList.remove("hide")))};r.forEach((e=>{e.addEventListener("click",(e=>{e.currentTarget.classList.contains("benefits__arrow")&&(t.forEach((e=>{e.classList.add("hide"),e.classList.remove("flipInX"),e.style.order=""})),e.target.closest(".benefits__arrow--right")?(a>=t.length-1&&(a=-1),a++,u(t,a,"flipInX")):e.target.closest(".benefits__arrow--left")&&(a<1&&(a=t.length),a--,m(t,a,"flipInX")))}))})),n.forEach((e=>{e.addEventListener("click",(e=>{e.currentTarget.classList.contains("services__arrow")&&(l.forEach((e=>{e.parentElement.classList.add("hide"),e.parentElement.classList.remove("flipInX"),e.parentElement.style.order=""})),e.target.closest(".services__arrow--right")?(i>=l.length-1&&(i=-1),i++,u(l,i,"flipInX")):e.target.closest(".services__arrow--left")&&(i<1&&(i=l.length),i--,m(l,i,"flipInX")))}))})),document.documentElement.clientWidth<576&&(a=0,t[a+1].classList.add("hide"),t[a+2].classList.add("hide"),e.style.justifyContent="center",l[i+1].parentElement.classList.add("hide"),o.style.justifyContent="center")})(),(e=>{const t=document.querySelectorAll(".timer-days"),r=document.querySelectorAll(".timer-hours"),o=document.querySelectorAll(".timer-minutes"),l=document.querySelectorAll(".timer-seconds");let n;const s=()=>{let s=(()=>{let t=(new Date(e).getTime()-(new Date).getTime())/1e3;return{timeRemaining:t,days:Math.floor(t/60/60/24),hours:Math.floor(t/60/60%60),minutes:Math.floor(t/60%60),seconds:Math.floor(t%60)}})();s.timeRemaining<=0?clearInterval(n):((s.days<10||s.hours<10||s.minutes<10||s.seconds<10)&&(e=>{for(let t in e)"timeRemaining"!==e[t]&&e[t]<10&&(e[t]="0"+e[t])})(s),t.forEach((e=>{e.textContent=s.days})),r.forEach((e=>{e.textContent=s.hours})),o.forEach((e=>{e.textContent=s.minutes})),l.forEach((e=>{e.textContent=s.seconds})))};s(),n=setInterval(s,1e3)})("20 january 2024"),(()=>{const e=document.querySelector(".smooth-scroll"),t=document.getElementById("offer");window.addEventListener("scroll",(()=>{t.getBoundingClientRect().bottom<0?e.style.right="25px":e.style.right="-100px"})),e.addEventListener("click",(()=>{window.scrollTo({top:0,behavior:"smooth"})}))})(),(()=>{const e=document.getElementById("calc"),t=document.getElementById("calc-type"),r=document.getElementById("calc-type-material"),o=document.getElementById("calc-input"),l=document.getElementById("calc-total");e&&e.addEventListener("input",(e=>{e.target!==t&&e.target!==r&&e.target!==o||(()=>{const e=+t.options[t.selectedIndex].value;let n=+r.options[r.selectedIndex].value;const s=o.value;let c=0;e&&s?(n||(n=1),c=Math.floor(e*n*s)):c=0,l.value=c})()}))})(),document.querySelectorAll(".sertificate-document").forEach((e=>{e.addEventListener("click",(e=>{e.preventDefault();const t=e.currentTarget.querySelector(".img-responsive"),r=e.currentTarget.querySelector(".document-overlay");document.body.classList.toggle("body-block"),e.currentTarget.classList.toggle("sertificate-document-active"),t.classList.toggle("img-responsive-active"),r.classList.toggle("document-overlay-active")})),e.addEventListener("mouseover",(e=>overlayHover(e.target,!0))),e.addEventListener("mouseout",(e=>overlayHover(e.target,!1)))})),document.querySelectorAll("form").forEach((e=>{e.querySelectorAll("input").forEach((e=>{e.addEventListener("input",(()=>{"phone"===e.name&&(e.value=e.value.replace(/[^0-9\+]/g,"")),"fio"===e.name&&(e.value=e.value.replace(/[^а-яА-яa-zA-Z]/g,""))}))}))})),e({formId:"form1",someElem:[{type:"block",id:"calc-total"}]}),e({formId:"form2",someElem:[{type:"block",id:"calc-total"}]})})();